{"version":3,"sources":["maps.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"maps.js","sourcesContent":["var side_bar_html = \"\";\nvar gmarkers = [];\nvar htmls = [];\nvar i = 0;\n\nvar display_infowindow = false;\n\nvar _icon = {\n  path: 'M 1 1 L 1 1 L 1 1 L 1 1 z'\n}\n\nfunction createMarker(point, name, html, id, money) {\n  var infoWindow = new google.maps.InfoWindow();\n\n  var marker = new MarkerWithLabel({\n     position: point,\n     map: map,\n     icon: _icon,\n     labelContent: money+\" <sup>đ</sup>\",\n     labelAnchor: new google.maps.Point(22, 0),\n     labelClass: \"labels labels-\"+id, \n     labelStyle: {opacity: 1},\n   });\n\n  closeInfoWindow = function() {\n    infoWindow.close();\n  };\n\n  var contentString = '<div class=\"col-1g-12\">'+\n                  ' <div class=\"listing-room\">' +\n                    '<div class=\"listing-img\">' +\n                      '<a href=\"\" target=\"_blank\">' +\n                        '<div class=\"listing-img-cover\" data-idroom-maps=\"listing-room-map-1\" id=\"listing-room-map-1\">' +\n                          '<div class=\"d-slider\">' +\n                            '<img height=\"236\" src=\"http://www.hotel-grandmajestic.cz/files/hotel/rooms/hotel-majestic-prague-double-room-01.jpg\" alt=\"\">' +\n                          '</div>' +\n                          '<div class=\"d-slider\">' +\n                            '<img height=\"236\" src=\"http://www.hotel-grandmajestic.cz/files/hotel/rooms/hotel-majestic-prague-deluxe-suite-01.jpg\" alt=\"\">' +\n                          '</div>' +\n                          '<div class=\"d-slider\">' +\n                            '<img height=\"236\" src=\"http://www.hotel-grandmajestic.cz/files/hotel/rooms/hotel-majestic-prague-double-room-05.jpg\" alt=\"\">' +\n                          '</div>' +\n                          \n                          '<div class=\"overlay-panel\">' +\n                            '<div class=\"price-panel\">' +\n                              '<span class=\"price-number\">' +\n                                money +\n                              '</span>' +\n                              '<span class=\"curently\"><sup>VNĐ</sup></span>' +\n                            '</div>' +\n                          '</div>' +\n                          '<div class=\"favorite\">' +\n                            '<input type=\"checkbox\" checked id=\"wishlist-maps-widget-1\" name=\"wishlist-widget-1\">' +\n                          '</div>' +\n                        '</div>' +\n                      '</a>' +\n\n                      '<div id=\"next-listing-room-map-1\" class=\"control control_next\"><span class=\"fa fa-toggle-right\"></span></div>' +\n                      '<div id=\"prev-listing-room-map-1\" class=\"control control_prev\"><span class=\"fa fa-toggle-left\"></span></div>' +\n                    '</div>' +\n                    '<div class=\"room-panel-body\">'+\n                      '<div class=\"media\">'+\n                        '<h3 title=\"King Hotel\" class=\"truncate\">'+\n                          '<a href=\"\">'+ name +'</a>'+\n                        '</h3>'+\n                        '<a href=\"\" class=\"practical\">'+\n                          '<div class=\"truncate room-partials\">'+\n                            '<span>Phòng riêng</span>'+\n                            '<span>'+\n                              '<span class=\"fa fa-circle\"></span>'+\n                              '<span>2 người</span>'+\n                            '</span>'+\n                            '<span>'+\n                              '<span class=\"fa fa-circle\"></span>' +\n                              '<span>50 phản hồi</span>'+\n                            '</span>'+\n                          '</div>'+\n                        '</a>'+\n                      '</div>'+\n                    '</div>'+\n                  '</div>'+\n                '</div>';\n\n\n\n  google.maps.event.addListener(map, 'click', closeInfoWindow);\n\n  google.maps.event.addListener(marker, \"click\", function() {\n    infoWindow.setContent(contentString);\n    if( display_infowindow ) {\n      display_infowindow.close();\n    }\n    display_infowindow = infoWindow;\n    infoWindow.open(map, marker);\n    \n    Slidermaps();\n\n    $('.labels-'+id).css({\n        'background': '#bd4721',\n        'z-index': '999999'\n    })\n\n  });\n\n  google.maps.event.addListener(marker, \"hover\", function() {\n    $('.labels-'+id).css({\n        'background': '#bd4721',\n        'z-index': '999999'\n    })\n  });\n\n  gmarkers[i] = marker;\n\n  htmls[i] = html;\n\n  i++;\n  return marker;\n}\n\nfunction mouseoverIcon(i) {\n  $('.labels-'+i).css({\n      'background': '#276882',\n      'z-index': '9999'\n  })\n}\n\nfunction mouseoutIcon(i) {\n  $('.labels-'+i).css({\n      'background': '#ff5a5f',\n      'z-index': '1'\n  })\n}\n\nfunction myclick(i) {\n  $('.labels-'+i).css({\n      'background': '#337ab7'\n  })\n}\n  \nfunction showVisibleMarkers() {\n  var bounds = map.getBounds();\n  count = 0;\n\n  for (var i = 0; i < gmarkers.length; i++) {\n    var marker = gmarkers[i],\n    infoPanel = $('.place-' + i );\n\n    if(bounds.contains(marker.getPosition())===true) {\n      infoPanel.show();\n      count++;\n    }\n    else {\n      infoPanel.hide();\n    }\n  }\n\n  $('#infos h2 span').html(count);\n}\n\nfunction initMap() {\n\n  var main_color = '#2d313f',\n      saturation_value= -10,\n      brightness_value= 5;\n\n\n  map = new google.maps.Map(document.getElementById('map'), {\n    center: center,\n    zoom: zoom,\n    panControl: false,\n    zoomControl: false,\n    mapTypeControl: false,\n    streetViewControl: false,\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\n    scrollwheel: false,\n    // styles: style\n  });\n\n  addMarkers();\n  \n  google.maps.event.addListener(map, 'idle', function() {\n    showVisibleMarkers();\n  });\n\n}\n\nfunction addMarkers() {\n  $.get( \"/map-data.json\", function( data ) {\n    for (var i = 0; i < data.markers.length; i++) {\n      var point = new google.maps.LatLng(data.markers[i].lat, data.markers[i].lng);\n      var place_id = data.markers[i].place_id;\n      var marker = createMarker(point, data.markers[i].label, data.markers[i].html, place_id, data.markers[i].money);\n      marker.setMap(map);\n      \n      gmarkers.push(marker);\n    }\n  });\n}\n\nwindow.onload = function() {\n    initMap();\n};\n\n//slider map\n\nfunction Slidermaps() {\n  $('.listing-img-cover').each(function(k, v) {\n      \n    var slidermapsid = $(v).attr('data-idroom-maps');\n\n    $('#' + slidermapsid + ', #next-' + slidermapsid + ', #prev-' + slidermapsid).on('mouseover', function () {\n      $('#next-' + slidermapsid + ', #prev-' + slidermapsid).css({\n        'opacity': '0.8'\n      })\n    });\n\n    $('#'+slidermapsid).on('mouseout', function () {\n      $('#next-' + slidermapsid + ', #prev-' + slidermapsid).css({\n        'opacity': '0'\n      })\n    });\n\n      var currentIndex = 0,\n      items = $('#'+slidermapsid+' div.d-slider'),\n      itemAmt = items.length;\n\n\n      $('#next-'+slidermapsid).click(function() {\n        currentIndex += 1;\n      if (currentIndex > itemAmt - 1) {\n          currentIndex = 0;\n      }\n      cycleItems(slidermapsid, currentIndex, items);\n    });\n\n\n    $('#prev-'+slidermapsid).click(function() {\n        currentIndex -= 1;\n      if (currentIndex < 0) {\n          currentIndex = itemAmt - 1;\n      }\n      cycleItems(slidermapsid, currentIndex, items);\n    });\n\n    cycleItems(slidermapsid, currentIndex, items);\n  });\n}\n\nfunction cycleItems(slidermapsid, currentIndex, items) {\n  var item = $('#'+slidermapsid+' div.d-slider').eq(currentIndex);\n  items.hide();\n  item.css('display','inline-block');\n}"],"sourceRoot":"/source/"}